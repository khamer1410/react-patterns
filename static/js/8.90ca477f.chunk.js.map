{"version":3,"sources":["components/InfoBox.js","pages/higherOrderComponent/withStatusPresenter.js","pages/higherOrderComponent/DataPresenter.js","pages/higherOrderComponent/HigherOrderComponentPage.js"],"names":["defaultProps","theme","THEME_CLASSIC","InfoBox","_ref","title","children","props","Object","_home_hamer_Desktop_Projects_react_patterns_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","InfoWrapper","assign","Heading","WithThemeConsumer","backgroundByTheme","_backgroundByTheme","_home_hamer_Desktop_Projects_react_patterns_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","THEME_MODERN","styled","div","_templateObject","_ref2","h4","_templateObject2","withStatusPresenter","Children","StatusPresenter","_Component","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","_this$props","error","loading","react_default","message","Component","displayName","concat","name","DataPresenter","style","marginTop","EnhancedDataPresenter","compose","HigherOrderComponentDemoPage","state","getErrorRequest","axios","get","catch","_this","setState","finally","resetState","showLoader","loadingTimeout","setTimeout","clearTimeout","_this$state","Buttons","onClick"],"mappings":"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","file":"static/js/8.90ca477f.chunk.js","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\nimport { THEME_CLASSIC, THEME_MODERN } from 'config/const'\nimport { WithThemeConsumer } from 'utils/ThemeProvider'\n\nconst defaultProps = {\n  theme: THEME_CLASSIC\n}\n\nconst propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.node,\n  theme: PropTypes.string,\n}\n\nconst InfoBox = ({ title, children, theme, ...props }) => (\n  <InfoWrapper theme={theme} {...props}>\n    {title && <Heading>{title}</Heading>}\n    {children}\n  </InfoWrapper>\n)\n\nInfoBox.defaultProps = defaultProps\nInfoBox.propTypes = propTypes\n\nexport default WithThemeConsumer(InfoBox)\n\n// styled components\nconst backgroundByTheme = {\n  [THEME_CLASSIC]: 'linear-gradient(rgba(255,255,255, 0.5), rgba(60,167,208, 0.5))',\n  [THEME_MODERN]: 'linear-gradient(rgba(255,255,255, 0.5), rgba(245,0,0, 0.5))',\n}\n\nconst InfoWrapper = styled.div`\n  padding: 10px;\n  border-radius: 10px;\n  background: ${({ theme }) => backgroundByTheme[theme]};\n`\nconst Heading = styled.h4`\n  margin: 0;\n`\n","import React, { Component } from 'react'\n\nconst withStatusPresenter = Children => {\n  class StatusPresenter extends Component {\n    render() {\n      const { error, loading } = this.props;\n\n      if (loading) {\n        return <div>Data is loading...</div>\n      }\n\n      if (error) {\n        return (\n          <div>\n            <p>Something went wrong!</p> <br />\n            <code>{error.message}</code> <br />\n            <p>Try again later</p>\n          </div>\n        )\n      }\n\n      return <Children {...this.props} />\n    }\n  }\n  StatusPresenter.displayName = `withStatusPresenter(${Children.displayName || Children.name})`\n  return StatusPresenter\n}\n\nexport default withStatusPresenter\n","import React from 'react';\nimport InfoBox from 'components/InfoBox'\n\nconst DataPresenter = ({ theme }) => (\n  <div>\n    <InfoBox style={{ marginTop: '20px' }}>\n      HOC can inject additional props - like selected Theme for instance:\n      <br />\n      <h3>Current theme is <code>{theme}</code></h3>\n    </InfoBox>\n\n    <InfoBox style={{ marginTop: '20px' }}>\n      Or can handle logic basing on passed props - hit the buttons to demo\n      <br />\n      <h3>All correct, just displaying some funny animals {'\\u{1F436}'} </h3>\n    </InfoBox>\n  </div>\n)\n\nexport default DataPresenter\n","import React, { Component } from 'react'\nimport axios from 'axios'\nimport { Button } from 'components/Buttons'\nimport withStatusPresenter from './withStatusPresenter'\nimport { WithThemeConsumer } from 'utils/ThemeProvider'\nimport { compose } from 'redux'\nimport DataPresenter from 'pages/higherOrderComponent/DataPresenter'\n\n// add HOC for presentational component\nconst EnhancedDataPresenter = compose(withStatusPresenter, WithThemeConsumer)(DataPresenter)\n\nclass HigherOrderComponentDemoPage extends Component {\n  state = {\n    error: null,\n    loading: false,\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.loadingTimeout)\n  }\n\n  getErrorRequest = () => {\n    axios.get('nonexistingURL/dummy')\n      .catch(error => {\n        this.setState({ error })\n      })\n      .finally(() => {\n        this.setState({ loading: false })\n      })\n  }\n\n  resetState = () => {\n    this.setState({\n      error: null,\n      loading: false,\n    })\n  }\n\n  showLoader = () => {\n    this.setState({ loading: true })\n    this.loadingTimeout = setTimeout(() => { this.setState({ loading: false }) }, 5000)\n  }\n\n  render() {\n    const { error, loading } = this.state\n    return (\n      <div>\n        <h2>Loading / error status as HOC presenter</h2>\n        <Button onClick={this.getErrorRequest}>Create error</Button>\n        <Button onClick={this.showLoader}>Show loader</Button>\n        <Button onClick={this.resetState}>Reset state</Button>\n        <EnhancedDataPresenter error={error} loading={loading} />\n      </div>\n    )\n  }\n}\n\nexport default HigherOrderComponentDemoPage\n"],"sourceRoot":""}